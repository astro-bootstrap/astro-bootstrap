---
const { variant, class: className, dismissable } = Astro.props;
export interface Props {
  variant: string;
  class?: string;
  dismissable?: boolean;
}
---

<div
  class:list={[
    'alert',
    `alert-${variant}`,
    className,
    { 'alert-dismissible': dismissable },
  ]}
  role="alert"
>
  <div><slot /></div>
  {
    dismissable && (
      <button
        type="button"
        class="btn-close"
        data-bs-dismiss="alert"
        aria-label="Close"
      />
    )
  }
</div>
<script>
  import { Alert } from 'bootstrap/dist/js/bootstrap.esm.js';
  const alertList = document.querySelectorAll('.alert')
  const alerts = [...alertList].map(element => new Alert(element))
</script>
